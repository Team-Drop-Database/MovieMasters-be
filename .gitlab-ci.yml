stages:
  # - build
  # - test
  - pull_app

# build-job:
#   stage: build
#   image: gradle:jdk21
#   tags:
#     - hva
#   script: ./gradlew build -x test

# test-job:
#   stage: test
#   image: gradle:jdk21
#   tags:
#     - hva
#   script: ./gradlew --build-cache test

pull_app_job:
  stage: pull_app
  tags:
    - hva
  variables:
    PORT: 2222
  script: echo "test" | base64 --d | ssh -o StrictHostKeyChecking=no -i /dev/stdin $SSH_USERNAME@$SSH_HOST -p $PORT "
    echo Hello World!
    "